<!DOCTYPE html>
<html xmlns:th = "http://www.thymeleaf.org">
<title>등록</title>
    <link th:href = "@{/css/styles.css}" rel = "stylesheet"/>
    <link th:href = "@{/css/error.css}" rel = "stylesheet"/>
    <link th:href = "@{/css/menu.css}" rel = "stylesheet"/>
<head>
    <meta charset = "utf-8"/>
    <meta http-equiv = "X-UA-Compatible" content = "IE=edge"/>
    <meta name = "viewport" content = "width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name = "description" content = ""/>
    <meta name = "author" content = ""/>
    <title>Register - SB Admin</title>
    <link href = "css/styles.css" rel = "stylesheet"/>
    <link href = "https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel = "stylesheet"/>
    <script src = "https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin = "anonymous"></script>
    <script src = "https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script th:inline = "javascript">
      /*<![CDATA[*/
      $(document).ready(function () {
                $("#menuHeaders").load("/menuBar", function () {
                    document.getElementById("menuHeaders").classList.add("show");
                });
            })
      /*]]>*/
    </script>
    <script th:inline = "javascript">
        /*<![CDATA[*/
           function passwordChecking(){
                   let passwordCheck = document.getElementById('passwordCheck').value;
                    let password = document.getElementById('password').value;
                    if(password!=passwordCheck){
                        alert('비밀번호가 일치하지 않습니다.');
                        document.getElementById('passwordCheck').value = '';
                    }
                    else{
                     document.getElementById('passwordEqualsCheck').value = true;
                    alert('확인 완료');
                    }
                   };
       /*]]>*/
    </script>

</head>
<body class = "bg-primary">
<div id = "layoutAuthentication">
    <div id = "layoutAuthentication_content">
        <div id="menuHeaders"></div>
        <main>
            <div class = "container">
                <div class = "row justify-content-center">
                    <div class = "col-lg-7">
                        <div class = "card shadow-lg border-0 rounded-lg mt-5">
                            <div class = "card-header"><h3 class = "text-center font-weight-light my-4">비밀번호 수정</h3>
                            </div>
                            <div class = "card-body">
                                <form th:object = "${updatePassword}" method = "post" name = "registerForm"
                                      class = "form-inline">
                                    <div><span th:if = "${#fields.hasGlobalErrors()}">
                                               <p class = "field-error" id = "globalError"
                                                  th:each = "err : ${#fields.globalErrors()}"
                                                  th:text = "${err}">글로벌 오류 메시지</p>
                                            </span>
                                    </div>
                                    <input type = "hidden" th:field = "*{id}" >
                                    <div class = "row mb-3">
                                        <div class = "col-md-6">
                                            <div class = "form-floating mb-3 mb-md-0">
                                                <input class = "form-control" th:field = "*{password}" type = "password"
                                                       placeholder = "input your password"
                                                       th:class = "${#fields.hasErrors('password')}? 'form-control fieldError' : 'form-control'"
                                                       style = "padding: 0 15px;"/>
                                                <label th:for = "password">비밀번호</label>
                                                <p class = "field-error" th:if = "${#fields.hasErrors('password')}"
                                                   th:errors = "*{password}">Incorrect date</p>
                                            </div>
                                        </div>
                                        <div class = "col-md-6">
                                            <div class = "form-floating mb-3 mb-md-0">
                                                <input class = "form-control" th:field = "*{passwordCheck}"
                                                       type = "password" placeholder = "input your password"
                                                       th:class = "${#fields.hasErrors('passwordCheck')}? 'form-control fieldError' : 'form-control'"/>
                                                <button type = "button" class = "btn btn-primary btn-block"
                                                        th:onclick = "passwordChecking()"
                                                        style = " position: absolute; top: 15%; right: 5px;">중복확인
                                                </button>
                                                <label th:for = "passwordCheck">비밀번호(확인)</label>
                                                <p class = "field-error" th:if = "${#fields.hasErrors('passwordCheck')}"
                                                   th:errors = "*{passwordCheck}">Incorrect date</p>
                                                <input type = "hidden" th:field = "*{passwordEqualsCheck}" value = "">
                                            </div>
                                        </div>
                                    </div>
                                    <div class = "mt-4 mb-0">
                                        <button type = "button" class = "btn btn-primary btn-block"
                                                onclick = "document.forms['registerForm'].submit();">저장 </button>
                                        <button type = "reset" class = "btn btn-primary btn-block">다시 입력</button>
                                        <div class = "d-grid">
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class = "card-footer text-center py-3">
                                <div class = "small"><a href = "/member/login">로그인 페이지</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <div id = "layoutAuthentication_footer">
        <footer class = "py-4 bg-light mt-auto">
            <div class = "container-fluid px-4">
                <div class = "d-flex align-items-center justify-content-between small">
                    <div class = "text-muted">Copyright &copy; HaneulKo 2023</div>
                    <div>
                        <a href = "/">Home</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>
</div>
<script src = "https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        crossorigin = "anonymous"></script>
<!--        <script src="js/scripts.js"></script>-->
<script src = "//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</body>
</html>
